@model WildPay.Models.ViewModels.AddGroup

@{
    ViewData["Title"] = "Créer un groupe";
    ViewData["ReturnPageAction"] = "ListMyGroups";
    ViewData["ReturnPageController"] = "Group";
}

<div class="col-md-4 m-auto">
    <h3 class="d-inline-flex gap-3 align-items-center justify-content-center"><partial name="_BackButtonPartial" /> Nouveau groupe</h3>
    <hr />
    <form id="profile-form" method="post" enctype="multipart/form-data">
        <div class="form-floating mb-3">
            <input class="form-control" type="text" asp-for="Name" placeholder="Nom du groupe" />
            <label class="control-label" asp-for="Name">Nom du groupe</label>
            <span asp-validation-for="Name" class="text-danger"></span>
        </div>
        <div class="form-floating mb-3">
            <div class="custom-file">
                <div>
                    <label asp-for="Image" class="control-label">Photo du groupe</label>
                </div>

                <img src="#" id="previewImage" class="form-img display-none" alt="Pré-visualisation de l'image choisie" />
                <div id="fileError" class="text-danger display-none"></div>

                <input asp-for="Image" class="custom-file-input" id="customFile" accept=".jpeg, .jpg, .png" />
            </div>
            <span asp-validation-for="Image" class="text-danger"></span>
        </div>

        <button class="w-100 btn btn-lg main-button" asp-action="AddGroup" asp-controller="Group">Créer</button>
    </form>
</div>

@section Scripts {
    <script type="text/javascript" src="~/js/imagePreview.js"></script>

    <script type="text/javascript">
        // Initialize the image preview functionality
        window.onload = function () {
            setupImagePreview('customFile', 'previewImage', 'defaultImage', 'fileError');
        };
    </script>
}